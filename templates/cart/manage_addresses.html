{% extends 'base.html' %}

{% block title %} | Manage Addresses {% endblock %}
{% block content %}

<div class="container-fluid bg-light py-5">
    <div class="container">
        <h1 class="mb-4">Manage Addresses</h1>

        {% if addresses %}
            <ul class="list-group mb-4">
                {% for address in addresses %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ address.address }}
                        <div>
                            <form action="{% url 'manage_addresses' %}" method="post" style="display:inline;">
                                {% csrf_token %}
                                <input type="hidden" name="action" value="delete">
                                <input type="hidden" name="address_id" value="{{ address.id }}">
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                            <form action="{% url 'manage_addresses' %}" method="post" style="display:inline;">
                                {% csrf_token %}
                                <input type="hidden" name="action" value="edit">
                                <input type="hidden" name="address_id" value="{{ address.id }}">
                                <input type="text" name="address" value="{{ address.address }}" class="form-control form-control-sm" style="width:200px; display:inline;">
                                <button type="submit" class="btn btn-warning btn-sm">Update</button>
                            </form>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No addresses found.</p>
        {% endif %}

        <h2>Add New Address</h2>
        <form action="{% url 'manage_addresses' %}" method="post">
            {% csrf_token %}
            <input type="hidden" name="action" value="add">
            <div class="mb-3">
                <label for="new_address" class="form-label">New Address:</label>
                <textarea id="new_address" name="address" class="form-control" rows="4"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Add Address</button>
        </form>
    </div>
</div>

{% endblock %}
